<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Event</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/main.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.0/locales-all.min.js"></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <script src="https://apis.google.com/js/api.js" async defer></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="mdl-layout__header mdl-layout__header--scroll mdl-color--primary">
        <div class="mdl-layout__header-row">
            <span class="mdl-layout-title">
                <img src="SyncCal.png" alt="SyncCal Logo" class="logo">
                SyncCal - Combined Calendar
            </span>
            <div class="mdl-layout-spacer"></div>
            <nav class="mdl-navigation">
                <button class="btn btn-primary" onclick="filterByDate()">Next Delivery Date</button>
                <button class="btn btn-primary" onclick="filterByCourse()">Course</button>
                <button class="btn btn-primary" onclick="filterByImportance()">Importance</button>
                <div class="auth-container">
                    <img id="user-profile-picture" src="" alt="Profile Picture" style="display:none; width:30px; height:30px; border-radius:50%; margin-right:10px;">
                    <span id="user-email" class="mdl-navigation__link"></span>
                    <span id="user-name" class="mdl-navigation__link"></span>
                    <button id="sign-in-btn" class="btn btn-secondary" onclick="handleAuthClick()">Sign In</button>
                    <div id="user-info" style="display: none;">
                        <button id="sign-out-btn" class="btn btn-secondary" onclick="handleSignoutClick()" style="display: none;">Sign Out</button>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    <main class="mdl-layout__content">
        <div class="page-content">
            <div id="calendar"></div>
            <form id="event-form" class="mt-4">
                <div class="mb-3">
                    <label for="event-title" class="form-label">Event Title</label>
                    <input type="text" class="form-control" id="event-title" required>
                </div>
                <div class="mb-3">
                    <label for="event-start" class="form-label">Start Date and Time</label>
                    <input type="datetime-local" class="form-control" id="event-start" required>
                </div>
                <div class="mb-3">
                    <label for="event-end" class="form-label">End Date and Time</label>
                    <input type="datetime-local" class="form-control" id="event-end" required>
                </div>
                <div class="mb-3">
                    <label for="event-location" class="form-label">Location</label>
                    <input type="text" class="form-control" id="event-location">
                </div>
                <div class="mb-3">
                    <label for="event-description" class="form-label">Description</label>
                    <textarea class="form-control" id="event-description"></textarea>
                </div>
                <div class="mb-3">
                    <label for="event-attachments" class="form-label">Attachments (Optional)</label>
                    <input type="file" class="form-control" id="event-attachments" multiple>
                </div>
                <div class="mb-3">
                    <label for="event-link" class="form-label">Link (Optional)</label>
                    <input type="url" class="form-control" id="event-link">
                </div>
                <div class="mb-3">
                    <label for="event-course" class="form-label">Course</label>
                    <input type="text" class="form-control" id="event-course">
                </div>
                <button type="submit" class="btn btn-primary">Create Event</button>
            </form>
        </div>
    </main>
    <footer class="mdl-mini-footer">
        <div class="mdl-mini-footer--left-section">
            <p>&copy; 2024 SyncCal</p>
            <p id="version-info"></p>
        </div>
    </footer>
    <script src="auth.js"></script>
    <script src="calendar.js"></script>
    <script src="filters.js"></script>
    <script src="event.js"></script>
    <script>
        fetch('versiones.txt')
            .then(response => response.text())
            .then(data => {
                const lines = data.split('\n');
                const versionLine = lines.find(line => line.startsWith('Versión:'));
                document.getElementById('version-info').textContent = versionLine; // Muestra la línea de la versión actual
            });
    </script>
</body>
</html>
